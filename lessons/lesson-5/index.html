<h1>Lesson 5 - Make CHUNK moves the snake for us</h1>

<p>Hooray! We can both draw and move the snake! Of course, having our users
copy and paste lines of code into their javascript console isn't a wonderful 
idea, so we're going to have CHUNK execute the move and draw commands for us.</p>

<p>We'll start with an `advanceGame` function</p>

<pre>
var advanceGame = function() {
  snake = moveSnake(snake);
  drawSnake(snake);
}
</pre>

<p>To get this function running we'll use our CHUNK game engine to call the `executeNTimesPerSecond` function. It does exactly that, to do this `executeNTimesPerSecond` takes in two arguments. The first arugement advances the game, and the second tells it how many times to move per-second.</p>

<pre>
CHUNK.executeNTimesPerSecond(advanceGame, 1);
</pre>

<p>Bam! Now the snake moves down until it runs off the game screen.</p>

<p>Because functions are just another kind of value (like numbers, arrays, objects, strings, 
etc.) we can pass them as arguments to other functions.</p>

<h3>How the computer is interpreting this code:</h3>

<blockquote>
  <p>"Hey Sean, create a function that moves the game forward. Next tell chunk to execute that function once per-second.</p>
</blockquote>

<h3>Expected Results</h3>

<p>Your snake.js:</p>
<pre>
var drawSnake = function(snakeToDraw) {
  var drawableSnake = { color: "blue", pixels: snakeToDraw };
  var drawableObjects = [drawableSnake];
  CHUNK.draw(drawableObjects);
}

var snake = [{ top: 0, left: 0}];
drawSnake(snake);

var moveSnake = function(snake) {
  var oldSegment = snake[0];
  var newSegment = { top: oldSegment.top + 1, left: oldSegment.left };
  var newSnake = [newSegment];
  return newSnake;
}

var advanceGame = function() {
  snake = moveSnake(snake);
  drawSnake(snake);
}

CHUNK.executeNTimesPerSecond(advanceGame, 1);
</pre>

<p>The running game:</p>
<canvas id="chunk-game" height="600" width="800"></canvas>

<script type="text/javascript" src="../js/chunk.js"></script>
<script type="text/javascript">
var drawSnake = function(snakeToDraw) {
  var drawableSnake = { color: "blue", pixels: snakeToDraw };
  var drawableObjects = [drawableSnake];
  CHUNK.draw(drawableObjects);
}

var snake = [{ top: 0, left: 0}];
drawSnake(snake);

var moveSnake = function(snake) {
  var oldSegment = snake[0];
  var newSegment = { top: oldSegment.top + 1, left: oldSegment.left };
  var newSnake = [newSegment];
  return newSnake;
}

var advanceGame = function() {
  snake = moveSnake(snake);
  drawSnake(snake);
}

CHUNK.executeNTimesPerSecond(advanceGame, 1);
</script>

<h3>Play Time!</h3>

<ul>
  <li>How can you increase the speed at which the snake moves?</li>
</ul>

<h3><a href="../lesson-6">Move on to Lesson 6</a></h3>

<h3>Helpful Links</h3>
<ol>
  <li><a href="http://blog.teamtreehouse.com/how-to-create-javascript-functions-with-variable-arguments-treehouse-quick-tip">Writing functions with more than one argument</a></li>
</ol>